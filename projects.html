<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dynamic Project Viewer</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" />
  <link rel="stylesheet" href="style.css" />
  <style>
    .container {
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 20px;
      max-width: 1200px;
      margin: auto;
    }
    .project-info {
      padding: 20px;
      border: 1px solid #ddd;
      font-family: Arial, sans-serif;
      font-size: 14px;
      margin-top: 20px;
    }
    .swiper { width: 100%; height: auto; }
    .swiper-slide img {
      width: 100%;
      max-height: 600px;
      object-fit: contain;
      cursor: pointer;
      background-color: #fbfbfb;
    }
    nav a { margin-right: 15px; cursor: pointer; }
    #p-image {
      width: 100%;
      max-height: 600px;
      object-fit: contain;
      background-color: #fbfbfb;
    }
  </style>
</head>
<body>

  <header>
    <div class="top-bar">
        <a href="index.html" class="name-logo"><h1>Elad Meiri Architecture</h1></a>
        <a href="about.html"><div class="top-link" style="color:black;">About</div></a>
        <a href="projects.html"><div class="top-link">Projects</div></a>
    </div>
  </header>
<main style="margin-bottom: 150px;max-width: 900px;margin: 0 auto;">

<nav style="max-width: 1200px;margin-top: 50px;margin-bottom: 50px;">
  <a href="#" class="project-link" data-project="troubled-water">Troubled Water</a>
  <a href="#" class="project-link" data-project="emergence-of-light">Emergence of Light</a>
  <a href="#" class="project-link" data-project="perfect-day-monument">Perfect Day Monument</a>
  <a href="#" class="project-link" data-project="the-heart-&-the-spring">The Heart & The Spring</a>
</nav>

<div class="container">
  <!-- Project P Image -->
  <div id="project-p-image" style="text-align: center;background-color: #fbfbfb;">
    <img id="p-image" src="" alt="Project Plan" />
  </div>

  <!-- Swiper -->
  <div class="swiper mySwiper" style="max-height: 600px !important;">
    <div class="swiper-wrapper" id="swiper-wrapper"></div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
  </div>
</div>

<!-- Project Info -->
<div id="project-info" class="project-info" style="max-width: 1200px; margin: 20px auto;background-color: #fbfbfb;">
  <h2></h2>
  <p></p>
</div>
</main>

<!-- <footer>
    <div class="footer-info">
      <a href="mailto:Eladlightm@gmail.com">Eladlightm@gmail.com</a>
      <span>Adress: Yad Harutzim 4, Jerusalem</span>
      <span>Post code: 10312</span>
      <span>Phone: +972 54-490-9402</span>
    </div>
  </footer> -->

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script>
<script>
const projects = {
  "troubled-water": {
    title: "Troubled Water",
    description: "A project seeking to respond architecturally and morally to the ongoing war in Ukraine, located above and below the grounds of the ruined Soviet-era steel plant Azovstal, Mariupol, on the shores of the Sea of Azov. Below ground, an urban atomic bomb shelter; At ground level, the ruins remain untouched, echoing the collective trauma; Above ground – strata of intensive high-rises.",
    images: ["./images/2023 - Troubed Water/TroubledWater1.png", "./images/2023 - Troubed Water/TroubledWater2.png", "./images/2023 - Troubed Water/TroubledWater3.png", "./images/2023 - Troubed Water/TroubledWaterM1.png", "./images/2023 - Troubed Water/TroubledWaterP.png"]
  },
  "emergence-of-light": {
    title: "Emergence of Light",
    description: "Light is, on the one hand, an inherent and essential quality of a place, and yet it is not fixed like wood or stone, its nature never predictable with absolute precision. The site is a craftsmen block intended for preservation in south Tel Aviv. Using parametric tools, the project examines the behavior of natural and artificial light inside the block and wishes to regain to the site some of its integral original qualities.",
    images: ["./images/2024 - Emergence of Light/EmergenceOfLight1.png", "./images/2024 - Emergence of Light/EmergenceOfLight2.png", "./images/2024 - Emergence of Light/EmergenceOfLight3.png", "./images/2024 - Emergence of Light/EmergenceOfLight4.png", "./images/2024 - Emergence of Light/EmergenceOfLight5.png", "./images/2024 - Emergence of Light/EmergenceOfLight6.png", "./images/2024 - Emergence of Light/EmergenceOfLight7.png", "./images/2024 - Emergence of Light/EmergenceOfLight8.png", "./images/2024 - Emergence of Light/EmergenceOfLight9.png", "./images/2024 - Emergence of Light/EmergenceOfLight10.png", "./images/2024 - Emergence of Light/EmergenceOfLight11.png", "./images/2024 - Emergence of Light/EmergenceOfLightM1.png", "./images/2024 - Emergence of Light/EmergenceOfLightM2.png", "./images/2024 - Emergence of Light/EmergenceOfLightM3.png", "./images/2024 - Emergence of Light/EmergenceOfLightM4.png", "./images/2024 - Emergence of Light/EmergenceOfLightM5.png", "./images/2024 - Emergence of Light/EmergenceOfLightP.png"]
  },
  "perfect-day-monument": {
    title: "Perfect Day Monument",
    description: `“Art involves choice, and everything that man does, he does in art.”
The abandoned Nesher quarry in the foot of Mount Carmel, encapsulates the issue of unfertile ground resulted by human exploitation; The project proposes a solution through another essential challenge of man – a community for the neglected. Through a recursive series of spatial and conceptual fragmentation, a potent city is to be built by and for its growing community of disabled people.`,
    images: ["./images/2024 - Perfect Day Monument/PerfectDayMonument1.png", "./images/2024 - Perfect Day Monument/PerfectDayMonument2.png", "./images/2024 - Perfect Day Monument/PerfectDayMonument3.png", "./images/2024 - Perfect Day Monument/PerfectDayMonument4.png", "./images/2024 - Perfect Day Monument/PerfectDayMonument5.png", "./images/2024 - Perfect Day Monument/PerfectDayMonument6.png", "./images/2024 - Perfect Day Monument/PerfectDayMonumentM1.JPG", "./images/2024 - Perfect Day Monument/PerfectDayMonumentM2.JPG", "./images/2024 - Perfect Day Monument/PerfectDayMonumentM3.JPG", "./images/2024 - Perfect Day Monument/PerfectDayMonumentM4.JPG"]
  },
  "the-heart-&-the-spring": {
    title: "The Heart & The Spring",
    description: "In the Third Machine Age, speed has been replaced by simultaneity. The functional and served human space is also flooded by data and information systems. And so, there is a need for an appropriate architectural structure that will also maintain human space. The project examines the application of the ‘von Neumann (computer) architecture’ to the physical space, in a proposed urban campus inside the Hebrew University in Givat Ram, Jerusalem.",
    images: ["./images/2025 - The Heart and The Spring/HeartandSpring1.png", "./images/2025 - The Heart and The Spring/HeartandSpring2.png", "./images/2025 - The Heart and The Spring/HeartandSpring3.png", "./images/2025 - The Heart and The Spring/HeartandSpring4.png", "./images/2025 - The Heart and The Spring/HeartandSpring5.png", "./images/2025 - The Heart and The Spring/HeartandSpringI1.jpg", "./images/2025 - The Heart and The Spring/HeartandSpringI2.png", "./images/2025 - The Heart and The Spring/HeartandSpringI3.png", "./images/2025 - The Heart and The Spring/HeartandSpringI4.png", "./images/2025 - The Heart and The Spring/HeartandSpringM1.JPG", "./images/2025 - The Heart and The Spring/HeartandSpringM2.JPG", "./images/2025 - The Heart and The Spring/HeartandSpringM4.JPG", "./images/2025 - The Heart and The Spring/HeartandSpringM5.JPG", "./images/2025 - The Heart and The Spring/HeartandSpringM6.JPG", "./images/2025 - The Heart and The Spring/HeartandSpringM7.JPG", "./images/2025 - The Heart and The Spring/HeartandSpringM8.JPG", "./images/2025 - The Heart and The Spring/HeartandSpringP.png", "./images/2025 - The Heart and The Spring/HeartandSpringS1.png", "./images/2025 - The Heart and The Spring/HeartandSpringS2.png", "./images/2025 - The Heart and The Spring/HeartandSpringS3.png", "./images/2025 - The Heart and The Spring/HeartandSpringS4.png", "./images/2025 - The Heart and The Spring/HeartandSpringS5.png", "./images/2025 - The Heart and The Spring/HeartandSpringS6.png"]
  }
};

let swiper;

function loadProject(projectKey) {
  const project = projects[projectKey];
  if (!project) return;

  // Update text
  document.querySelector("#project-info h2").textContent = project.title;
  document.querySelector("#project-info p").textContent = project.description;

  // Find and display the P image, or use the first image as fallback
  const pImage = project.images.find(src => src.includes("P.") || src.includes("P.png") || src.includes("P.jpg") || src.includes("P.JPG"));
  if (pImage) {
    document.getElementById("p-image").src = pImage;
    document.getElementById("p-image").style.display = "block";
  } else {
    // Use first image as fallback if no P image exists
    document.getElementById("p-image").src = project.images[0];
    document.getElementById("p-image").style.display = "block";
  }

  // Update images (excluding the P image from the slider)
  const wrapper = document.getElementById("swiper-wrapper");
  wrapper.innerHTML = "";
  project.images.forEach((src, i) => {
    // Skip P images in the slider since they're displayed separately
    if (!src.includes("P.") && !src.includes("P.png") && !src.includes("P.jpg") && !src.includes("P.JPG")) {
      const slide = document.createElement("div");
      slide.classList.add("swiper-slide");
      slide.innerHTML = `
        <a data-fancybox="${projectKey}" href="${src}">
          <img src="${src}" alt="${project.title} ${i+1}" />
        </a>
      `;
      wrapper.appendChild(slide);
    }
  });

  // Re-init swiper
  if (swiper) swiper.destroy(true, true);
  swiper = new Swiper(".mySwiper", {
    navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" },
    loop: true,
  });
}

// Load default project
document.addEventListener("DOMContentLoaded", () => {
  loadProject("troubled-water");
});

// Hook up nav clicks
document.querySelectorAll(".project-link").forEach(link => {
  link.addEventListener("click", (e) => {
    e.preventDefault();
    loadProject(link.dataset.project);
  });
});
</script>
</body>
</html>
